@tailwind base;
@tailwind components;
@tailwind utilities;


:root {
  /* Palette fournie */
  --c1: #B8CBD0;  /* bleu-gris doux */
  --c2: #C9E3CC;  /* vert très clair */
  --c3: #B0B9A8;  /* vert/gris moyen */
  --c4: #606C5A;  /* vert olive foncé */
  --c5: #424340;  /* gris anthracite */

  /* Mapping sémantique */
  --bg: var(--c2);
  --panel: var(--c1);
  --ink: var(--c5);
  --accent: var(--c4);
  --accent-alt: var(--c5);
  --muted: var(--c3);
  --snake-player: var(--c2);
  --snake-ai: var(--c1);
  --food: var(--c3);
  --border: var(--c3);
}


html, body, :root { height: 100%; }
body {
  min-height: 100vh;
  background:
    radial-gradient(circle at 30% 25%, var(--c2) 0%, transparent 60%),
    radial-gradient(circle at 80% 70%, var(--c1) 0%, transparent 65%),
    linear-gradient(145deg, var(--c2) 0%, var(--c1) 60%, var(--c3) 100%);
  color: var(--ink);
  font-family: 'JetBrains Mono', 'Fira Mono', 'Consolas', monospace;
  -webkit-font-smoothing: antialiased;
  overflow:hidden; /* éviter le scroll vertical global */
}



.card {
  background: linear-gradient(160deg, var(--panel) 0%, var(--c2) 120%);
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: 0 4px 18px -4px rgba(66,67,64,0.35), 0 1px 3px rgba(66,67,64,0.25);
  backdrop-filter: blur(3px);
}

/* Canvas neon glow */
canvas {
  box-shadow: 0 0 10px 1px rgba(96,108,90,0.35), 0 0 0 1px var(--c3);
  background: linear-gradient(135deg, #2b2c29 0%, #424340 55%, #3b3c39 100%);
  transition: box-shadow 0.3s, transform 0.25s;
  border-radius: 14px;
}
canvas:hover { box-shadow: 0 0 20px 4px rgba(96,108,90,0.55), 0 0 0 1px var(--c4); }

/* Modern buttons */

.modern-btn {
  background: linear-gradient(125deg, var(--c4) 0%, var(--c5) 90%);
  color: var(--c2);
  font-weight: 600;
  border: 1px solid var(--c5);
  border-radius: 14px;
  box-shadow: 0 3px 10px -4px rgba(66,67,64,0.4), 0 1px 2px rgba(66,67,64,0.4);
  padding: 0.55em 1.3em;
  cursor: pointer;
  font-size: .9rem;
  letter-spacing: 0.03em;
  transition: transform .18s, box-shadow .28s, background .35s, filter .35s;
}
.modern-btn:hover {
  transform: translateY(-3px);
  filter: brightness(1.08);
  box-shadow: 0 8px 20px -6px rgba(66,67,64,0.55);
}
.modern-btn:active { transform: translateY(-1px) scale(.97); }
.modern-btn.secondary {
  background: linear-gradient(140deg, var(--c5) 0%, #333431 90%);
  color: var(--c1);
  border: 1px solid #393a37;
}
.modern-btn.secondary:hover { box-shadow: 0 6px 16px -6px rgba(57,58,55,0.6); }
.modern-btn.danger {
  background: linear-gradient(125deg, #824646 0%, #5a2f2f 95%);
  color: #f2d7d7;
  border: 1px solid #5a2f2f;
}
.modern-btn.danger:hover { box-shadow: 0 8px 18px -6px rgba(90,47,47,0.55); }

/* Score display */

.score-bar {
  display: flex;
  justify-content: space-around;
  gap: 1.4em;
  font-size: 0.9em;
  margin: 0 0 1.1em 0;
  letter-spacing: 0.08em;
  background: linear-gradient(135deg, var(--c1) 0%, var(--c2) 90%);
  padding: .5em 1em;
  border: 1px solid var(--c3);
  border-radius: 12px;
  box-shadow: 0 3px 10px -4px rgba(66,67,64,0.35);
}
.score-player { color: var(--c5); font-weight: 600; }
.score-ai { color: var(--c4); font-weight: 600; }
.score-bar.enhanced { position:relative; }
.wins-pill {
  display:inline-flex; align-items:center; gap:.35em;
  margin-left:.7em;
  background:linear-gradient(140deg,#2f332f 0%, var(--c5) 55%, var(--c4) 120%);
  color:var(--c2);
  font-size:.68rem;
  padding:.35em .7em .42em;
  border-radius:14px;
  letter-spacing:.12em;
  font-weight:700;
  line-height:1;
  box-shadow:0 4px 14px -6px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.18) inset, 0 0 0 2px rgba(96,108,90,0.4);
  position:relative;
  min-width:46px;
  justify-content:center;
}
.wins-pill.alt { background:linear-gradient(140deg,#2c3035 0%, #2f4d66 55%, #3C9BFF 130%); color:#e6f4ff; box-shadow:0 4px 14px -6px rgba(0,0,0,0.65), 0 0 0 1px rgba(255,255,255,0.15) inset, 0 0 0 2px rgba(60,155,255,0.35); }
.wins-pill .icon { filter:drop-shadow(0 2px 4px rgba(0,0,0,0.4)); font-size:.85rem; }
.wins-pill.flash { animation:winFlash .9s ease; }
@keyframes winFlash { 0% { transform:scale(.6); opacity:0; filter:brightness(2) saturate(1.6); } 25% { transform:scale(1.15); opacity:1; } 55% { transform:scale(.95); } 100% { transform:scale(1); opacity:1; } }

/* Modal / overlay */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(34,35,32,0.55);
  backdrop-filter: blur(6px) saturate(140%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  padding: 1.5rem;
}
.modal {
  background:
    linear-gradient(160deg, #424340 0%, #606C5A 70%, #4d544b 100%);
  border: 1px solid #767f74;
  border-radius: 26px;
  padding: 2.4rem 2.2rem 2.2rem;
  max-width: 560px;
  width: 100%;
  box-shadow: 0 28px 68px -20px rgba(0,0,0,0.65), 0 6px 26px -10px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,255,255,0.04);
  position: relative;
  overflow: hidden;
}
.modal:before {
  content:"";
  position:absolute; inset:0;
  background:radial-gradient(circle at 25% 20%, rgba(200,227,204,0.22), transparent 60%),
             radial-gradient(circle at 80% 75%, rgba(184,203,208,0.18), transparent 65%);
  pointer-events:none;
}
.modal h2 { font-size: 1.7rem; margin: 0 0 1rem; letter-spacing: .05em; color: #C9E3CC; text-shadow:0 2px 6px rgba(0,0,0,0.5); }
.modal p { font-size: .92rem; line-height: 1.4rem; margin: 0 0 .85rem; color: #E3EEE5; text-shadow:0 1px 3px rgba(0,0,0,0.6); }
.modal b { color:#FFFFFF; }
.close-btn {
  position: absolute;
  top: 10px; right: 10px;
  background: transparent;
  border: none;
  color: var(--c5);
  font-size: 1.2rem;
  cursor: pointer;
}

/* Grand bouton démarrer */
.btn-lg {
  position:relative;
  font-size: 1.2rem;
  padding: 1.05em 2.8em;
  border-radius: 38px;
  background: linear-gradient(135deg, #C9E3CC 0%, #B8CBD0 55%, #B0B9A8 100%);
  color: #313632;
  font-weight: 800;
  border: 1px solid #d7e7d9;
  box-shadow: 0 10px 32px -10px rgba(200,227,204,0.6), 0 4px 14px -6px rgba(66,67,64,0.55), 0 0 0 2px rgba(255,255,255,0.35) inset;
  letter-spacing:.06em;
  text-transform:uppercase;
  transition: transform .35s cubic-bezier(.16,.8,.3,1), box-shadow .45s, filter .45s;
}
.btn-lg:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 18px 46px -16px rgba(200,227,204,0.75), 0 6px 20px -8px rgba(66,67,64,0.6), 0 0 0 2px rgba(255,255,255,0.5) inset; }
/* Animation balayage retirée */
.btn-lg:active { transform: translateY(-2px) scale(.985); }

/* Variante start distincte si besoin */
.btn-start { background: linear-gradient(140deg,#C9E3CC 0%,#FFFFFF 50%, #B8CBD0 100%); color:#353a36; }
.btn-start:hover { filter:brightness(1.08); }

/* Panneau sous le terrain */
.under-panel { margin-top: 1.25rem; display: flex; flex-direction: column; gap: .9rem; }
.under-actions { display: flex; flex-wrap: wrap; gap: .7rem; justify-content: center; }

/* Settings drawer */
.settings-panel {
  background: linear-gradient(160deg, var(--c1) 0%, var(--c2) 130%);
  border: 1px solid var(--c3);
  border-radius: 16px;
  padding: 1rem 1.25rem 1.2rem;
  box-shadow: 0 8px 28px -8px rgba(42,43,40,0.4), 0 2px 8px rgba(42,43,40,0.25);
  animation: pop .35s ease;
}
/* Bouton paramètres flottant */
.settings-fab {
  position:absolute;
  top:10px; right:10px;
  width:44px; height:44px;
  border-radius:12px;
  background:linear-gradient(145deg,var(--c4) 0%, var(--c5) 90%);
  color:var(--c2);
  border:1px solid var(--c5);
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 6px 18px -8px rgba(0,0,0,0.55), 0 2px 6px rgba(0,0,0,0.4);
  cursor:pointer;
  transition:transform .25s, box-shadow .35s, filter .35s;
}
.settings-fab:hover { transform:translateY(-4px); filter:brightness(1.08); box-shadow:0 12px 30px -10px rgba(0,0,0,0.65); }
.settings-fab:active { transform:translateY(-1px) scale(.95); }
.settings-fab[disabled] { cursor:not-allowed; opacity:.45; filter:saturate(.3) brightness(.8); box-shadow:none; transform:none !important; }
.settings-fab[disabled]:hover { transform:none; filter:saturate(.3) brightness(.8); }
.stats-fab { right:74px; }
@keyframes pop { 0% { transform: translateY(8px) scale(.96); opacity: 0; } 100% { transform: translateY(0) scale(1); opacity: 1; } }
.settings-row { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:.75rem; }
.pill-btn { background: var(--c5); color: var(--c1); padding:.45em 1.1em; border-radius: 999px; font-size:.75rem; letter-spacing:.08em; text-transform:uppercase; border:1px solid var(--c4); cursor:pointer; }
.pill-btn:hover { filter: brightness(1.1); }
.range { width: 180px; accent-color: var(--c4); }

/* Bande verticale de paramètres */
.settings-band {
  position:absolute;
  top:70px; /* sous la barre score */
  right:18px; /* aligné sous le bouton */
  width:240px;
  max-height:0;
  overflow:hidden;
  background:linear-gradient(165deg,var(--c1) 0%, var(--c2) 140%);
  border:1px solid var(--c3);
  border-radius:18px;
  box-shadow:0 18px 40px -14px rgba(0,0,0,0.5), 0 4px 14px -6px rgba(0,0,0,0.4);
  backdrop-filter:blur(6px) saturate(140%);
  transition:max-height .55s cubic-bezier(.21,.84,.32,1), padding .4s ease;
  padding:0 0; /* animé */
  z-index:40;
}
.settings-band.open { max-height:420px; padding:1rem 1.05rem 1.15rem; }
.settings-band.closed { pointer-events:none; }
.settings-band:before { content:""; position:absolute; inset:0; border-radius:inherit; background:radial-gradient(circle at 30% 10%, rgba(255,255,255,0.35), transparent 60%); mix-blend-mode:overlay; pointer-events:none; }
.stats-band { position:absolute; top:70px; right:74px; width:260px; max-height:0; overflow:hidden; background:linear-gradient(165deg,var(--c1) 0%, var(--c2) 140%); border:1px solid var(--c3); border-radius:18px; box-shadow:0 18px 40px -14px rgba(0,0,0,0.5), 0 4px 14px -6px rgba(0,0,0,0.4); backdrop-filter:blur(6px) saturate(140%); transition:max-height .55s cubic-bezier(.21,.84,.32,1), padding .4s ease; padding:0 0; z-index:39; }
.stats-band.open { max-height:420px; padding:1rem 1.05rem 1.15rem; }
.stats-band.closed { pointer-events:none; }
.stats-band:before { content:""; position:absolute; inset:0; border-radius:inherit; background:radial-gradient(circle at 34% 16%, rgba(255,255,255,0.35), transparent 62%); mix-blend-mode:overlay; pointer-events:none; }
.band-inner { display:flex; flex-direction:column; gap:1rem; }
.band-header { display:flex; align-items:center; justify-content:space-between; }
.band-title { font-size:.85rem; font-weight:700; letter-spacing:.18em; text-transform:uppercase; color:var(--c5); }
.band-section { display:flex; flex-direction:column; gap:.5rem; }
.band-label { font-size:.65rem; letter-spacing:.22em; text-transform:uppercase; font-weight:600; color:var(--c5); }
.band-value { font-size:.65rem; color:var(--c4); font-weight:600; letter-spacing:.12em; }
.band-foot { font-size:.55rem; letter-spacing:.14em; opacity:.55; line-height:1.2; }


/* Modern panel layout */
.hud-btns {
  display: flex;
  flex-wrap: wrap;
  gap: .9em;
  justify-content: center;
  margin: .8em 0 .3em 0;
}

/* Wrapper moyen */
.game-medium {
  width: 100%;
  max-width: 1050px;
  margin: 0 auto;
}

/* Panneau winrate flottant */
.winrate-panel {
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  left:-180px; /* espace à gauche du plateau */
  width:160px;
  padding:4px 2px;
}
@media (max-width: 1280px) {
  .winrate-panel { display:none !important; }
}
